# W01 URL Shortener - Tradeoffs (샘플)

> 형식 예시용 최소 샘플입니다.

## 1) 의사결정 요약
- 의사결정 제목: ID 생성 방식 선택
- 결정 시점: W01
- 관련 요구사항: 생성 API 지연시간, 충돌 방지

## 2) 선택지 비교 (A vs B)
| 항목 | 선택 A (중앙 시퀀스) | 선택 B (랜덤+충돌체크) | 최종 선택 |
|---|---|---|---|
| 개요 | 단일 발급기에서 증가 ID | 무작위 키 생성 후 중복 확인 | A |
| 성능 | 예측 가능, 병목 가능 | 분산 쉬움, 재시도 가능 | A |
| 운영 난이도 | 단순 | 충돌 관리 필요 | A |
| 개발 속도 | 빠름 | 중간 | A |
| 비용 | 낮음 | 중간 | A |
| 리스크 | SPOF 위험 | 충돌 처리 복잡 | A |

## 3) 선택 이유
- 왜 이 선택인가: W01 학습 범위에서 단순성을 우선
- 버린 대안의 이유: 충돌 재시도 로직이 설계 분량을 늘림
- 전제 조건: 트래픽이 초기에는 낮다

## 4) 비용 / 운영 / 복잡도 / 리스크
| 관점 | 영향 | 완화 전략 |
|---|---|---|
| 비용 | 초기 낮음 | 관리형 저장소 사용 |
| 운영 | 발급기 장애 민감 | 이중화 후보 정의 |
| 복잡도 | 구현 단순 | 범위 유지 |
| 리스크 | SPOF | v2에서 분산 발급 검토 |

## 5) 롤백 / 마이그레이션
- 롤백 트리거: 생성 실패율 급증
- 롤백 절차: 이전 발급기 버전으로 즉시 전환
- 데이터 마이그레이션 계획: 키 포맷 변경 시 dual-write 기간 운영
